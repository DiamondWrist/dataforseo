{"ast":null,"code":"import _regeneratorRuntime from\"/Users/diamond/Desktop/test_task/front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/diamond/Desktop/test_task/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/diamond/Desktop/test_task/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Table}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DetailResultScreen(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),resp=_useState2[0],setResp=_useState2[1];useEffect(function(){function fetchProduct(){return _fetchProduct.apply(this,arguments);}function _fetchProduct(){_fetchProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://127.0.0.1:8000/api/tasks_ready?id=\".concat(match.params.id,\"&search=\").concat(match.params.search));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setResp(data);//   console.log(data);\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchProduct.apply(this,arguments);}fetchProduct();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"result-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Task Detail\"}),/*#__PURE__*/_jsx(Container,{children:resp.length<=0?/*#__PURE__*/_jsx(\"h1\",{children:\"No data. Please try again later!\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"resp-div\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Detailed Results for \",resp.tasks[0].id]}),resp.tasks[0].result!=null?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Status Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Keyword\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Language Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Datetime\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Items Count\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check Url\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:resp.status_code}),/*#__PURE__*/_jsx(\"td\",{children:resp.status_message}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].data.keyword}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].data.language_name}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].data.location_name}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].data.se}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].result[0].datetime}),/*#__PURE__*/_jsx(\"td\",{children:resp.tasks[0].result[0].items_count}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:resp.tasks[0].result[0].check_url,children:\"Check URL\"})})]})})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"Not found! Please create task!\"})]})})]});}export default DetailResultScreen;","map":{"version":3,"sources":["/Users/diamond/Desktop/test_task/front/src/screens/DetailResultScreen.js"],"names":["React","useState","useEffect","Container","Table","axios","DetailResultScreen","match","resp","setResp","fetchProduct","get","params","id","search","data","length","tasks","result","status_code","status_message","keyword","language_name","location_name","se","datetime","items_count","check_url"],"mappings":"wWAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,iBAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,kBAAT,MAAuC,IAATC,CAAAA,KAAS,MAATA,KAAS,eACbN,QAAQ,CAAC,EAAD,CADK,wCAC9BO,IAD8B,eACxBC,OADwB,eAErCP,SAAS,CAAC,UAAM,SACCQ,CAAAA,YADD,8IACd,mLACyBL,CAAAA,KAAK,CAACM,GAAN,oDACuBJ,KAAK,CAACK,MAAN,CAAaC,EADpC,oBACiDN,KAAK,CAACK,MAAN,CAAaE,MAD9D,EADzB,uCACUC,IADV,kBACUA,IADV,CAIEN,OAAO,CAACM,IAAD,CAAP,CACA;AALF,sDADc,+CASdL,YAAY,GACb,CAVQ,CAUN,EAVM,CAAT,CAYA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,mCADF,cAEE,KAAC,SAAD,WACGF,IAAI,CAACQ,MAAL,EAAe,CAAf,cACC,wDADD,cAGC,aAAK,SAAS,CAAC,UAAf,wBACE,8CAA0BR,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcJ,EAAxC,GADF,CAEGL,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcC,MAAd,EAAwB,IAAxB,cACC,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,wBACE,oCACE,mCACE,mCADF,cAEE,sCAFF,cAGE,+BAHF,cAIE,qCAJF,cAKE,qCALF,cAME,0BANF,cAOE,gCAPF,cAQE,mCARF,cASE,iCATF,GADF,EADF,cAcE,oCACE,mCACE,oBAAKV,IAAI,CAACW,WAAV,EADF,cAEE,oBAAKX,IAAI,CAACY,cAAV,EAFF,cAGE,oBAAKZ,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcF,IAAd,CAAmBM,OAAxB,EAHF,cAIE,oBAAKb,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcF,IAAd,CAAmBO,aAAxB,EAJF,cAKE,oBAAKd,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcF,IAAd,CAAmBQ,aAAxB,EALF,cAME,oBAAKf,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcF,IAAd,CAAmBS,EAAxB,EANF,cAOE,oBAAKhB,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcC,MAAd,CAAqB,CAArB,EAAwBO,QAA7B,EAPF,cAQE,oBAAKjB,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcC,MAAd,CAAqB,CAArB,EAAwBQ,WAA7B,EARF,cASE,iCACE,UAAG,IAAI,CAAElB,IAAI,CAACS,KAAL,CAAW,CAAX,EAAcC,MAAd,CAAqB,CAArB,EAAwBS,SAAjC,uBADF,EATF,GADF,EAdF,GADD,cAgCC,sDAlCJ,GAJJ,EAFF,GADF,CAgDD,CAED,cAAerB,CAAAA,kBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Container, Table } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nfunction DetailResultScreen({ match }) {\n  const [resp, setResp] = useState([]);\n  useEffect(() => {\n    async function fetchProduct() {\n      const { data } = await axios.get(\n        `http://127.0.0.1:8000/api/tasks_ready?id=${match.params.id}&search=${match.params.search}`\n      );\n      setResp(data);\n      //   console.log(data);\n    }\n\n    fetchProduct();\n  }, []);\n\n  return (\n    <div className=\"result-form\">\n      <h1>Task Detail</h1>\n      <Container>\n        {resp.length <= 0 ? (\n          <h1>No data. Please try again later!</h1>\n        ) : (\n          <div className=\"resp-div\">\n            <h1>Detailed Results for {resp.tasks[0].id}</h1>\n            {resp.tasks[0].result != null ? (\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>Status Code</th>\n                    <th>Status Message</th>\n                    <th>Keyword</th>\n                    <th>Language Name</th>\n                    <th>Location Name</th>\n                    <th>SE</th>\n                    <th>Datetime</th>\n                    <th>Items Count</th>\n                    <th>Check Url</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>{resp.status_code}</td>\n                    <td>{resp.status_message}</td>\n                    <td>{resp.tasks[0].data.keyword}</td>\n                    <td>{resp.tasks[0].data.language_name}</td>\n                    <td>{resp.tasks[0].data.location_name}</td>\n                    <td>{resp.tasks[0].data.se}</td>\n                    <td>{resp.tasks[0].result[0].datetime}</td>\n                    <td>{resp.tasks[0].result[0].items_count}</td>\n                    <td>\n                      <a href={resp.tasks[0].result[0].check_url}>Check URL</a>\n                    </td>\n                  </tr>\n                </tbody>\n              </Table>\n            ) : (\n              <h1>Not found! Please create task!</h1>\n            )}\n          </div>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default DetailResultScreen;\n"]},"metadata":{},"sourceType":"module"}