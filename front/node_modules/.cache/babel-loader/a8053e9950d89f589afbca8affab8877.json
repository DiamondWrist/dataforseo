{"ast":null,"code":"import _slicedToArray from\"/Users/diamond/Desktop/test_task/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Form,Button,Container,Table}from\"react-bootstrap\";import axios from\"axios\";import{LinkContainer}from\"react-router-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResultScreen(){var _useState=useState(\"Google\"),_useState2=_slicedToArray(_useState,2),searchSystem=_useState2[0],setSearchSystem=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),resp=_useState4[0],setResp=_useState4[1];var onSearchSystemChange=function onSearchSystemChange(e){setSearchSystem(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();axios.get(\"http://127.0.0.1:8000/api/tasks_ready?search_system=\".concat(searchSystem)).then(function(res){return setResp(JSON.parse(res.request.response));}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"result-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tasks Result\"}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formSearchSystem\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Search System\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:searchSystem,required:true,onChange:onSearchSystemChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Google\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Bing\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Yahoo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Yandex\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Baidu\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Naver\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]}),resp.length<=0?null:/*#__PURE__*/_jsxs(\"div\",{className:\"resp-div\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Results for \",searchSystem,\" Search\"]}),resp.tasks[0].result!=null?/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Posted\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tag\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Endpoint Regular\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:resp.tasks[0].result.map(function(rslt){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(LinkContainer,{target:\"_blank\",to:\"/result/\".concat(rslt.id,\"/\").concat(rslt.se),children:/*#__PURE__*/_jsx(\"td\",{className:\"td-link\",children:rslt.id})}),/*#__PURE__*/_jsx(\"td\",{children:rslt.se}),/*#__PURE__*/_jsx(\"td\",{children:rslt.date_posted}),/*#__PURE__*/_jsx(\"td\",{children:rslt.tag}),/*#__PURE__*/_jsx(\"td\",{children:rslt.endpoint_regular})]},rslt.id);})})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"Not found! Please create task!\"})]})]})]});}export default ResultScreen;","map":{"version":3,"sources":["/Users/diamond/Desktop/test_task/front/src/screens/ResultScreen.js"],"names":["React","useState","Form","Button","Container","Table","axios","LinkContainer","ResultScreen","searchSystem","setSearchSystem","resp","setResp","onSearchSystemChange","e","target","value","handleSubmit","preventDefault","get","then","res","JSON","parse","request","response","catch","err","console","log","length","tasks","result","map","rslt","id","se","date_posted","tag","endpoint_regular"],"mappings":"yHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,SAAvB,CAAkCC,KAAlC,KAA+C,iBAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,wBAA9B,C,wFAEA,QAASC,CAAAA,YAAT,EAAwB,eACkBP,QAAQ,CAAC,QAAD,CAD1B,wCACfQ,YADe,eACDC,eADC,8BAEET,QAAQ,CAAC,EAAD,CAFV,yCAEfU,IAFe,eAETC,OAFS,eAItB,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,CAAD,CAAO,CAClCJ,eAAe,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,CAAD,CAAO,CAC1BA,CAAC,CAACI,cAAF,GACAZ,KAAK,CACFa,GADH,+DAE2DV,YAF3D,GAIGW,IAJH,CAIQ,SAACC,GAAD,QAAST,CAAAA,OAAO,CAACU,IAAI,CAACC,KAAL,CAAWF,GAAG,CAACG,OAAJ,CAAYC,QAAvB,CAAD,CAAhB,EAJR,EAKGC,KALH,CAKS,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALT,EAMD,CARD,CAUA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,oCADF,cAEE,MAAC,SAAD,yBACE,MAAC,IAAD,EAAM,QAAQ,CAAEV,YAAhB,wBACE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,kBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,mCADF,cAEE,MAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,KAAK,CAAER,YAFT,CAGE,QAAQ,KAHV,CAIE,QAAQ,CAAEI,oBAJZ,wBAME,kCANF,cAOE,gCAPF,cAQE,iCARF,cASE,kCATF,cAUE,iCAVF,cAWE,iCAXF,GAFF,GADF,cAoBE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBApBF,GADF,CAyBGF,IAAI,CAACmB,MAAL,EAAe,CAAf,CAAmB,IAAnB,cACC,aAAK,SAAS,CAAC,UAAf,wBACE,qCAAiBrB,YAAjB,aADF,CAEGE,IAAI,CAACoB,KAAL,CAAW,CAAX,EAAcC,MAAd,EAAwB,IAAxB,cACC,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,wBACE,oCACE,mCACE,0BADF,cAEE,0BAFF,cAGE,mCAHF,cAIE,2BAJF,cAKE,wCALF,GADF,EADF,cAUE,uBACGrB,IAAI,CAACoB,KAAL,CAAW,CAAX,EAAcC,MAAd,CAAqBC,GAArB,CAAyB,SAACC,IAAD,qBACxB,mCACE,KAAC,aAAD,EACE,MAAM,CAAC,QADT,CAEE,EAAE,mBAAaA,IAAI,CAACC,EAAlB,aAAwBD,IAAI,CAACE,EAA7B,CAFJ,uBAIE,WAAI,SAAS,CAAC,SAAd,UAAyBF,IAAI,CAACC,EAA9B,EAJF,EADF,cAOE,oBAAKD,IAAI,CAACE,EAAV,EAPF,cAQE,oBAAKF,IAAI,CAACG,WAAV,EARF,cASE,oBAAKH,IAAI,CAACI,GAAV,EATF,cAUE,oBAAKJ,IAAI,CAACK,gBAAV,EAVF,GAASL,IAAI,CAACC,EAAd,CADwB,EAAzB,CADH,EAVF,GADD,cA6BC,sDA/BJ,GA1BJ,GAFF,GADF,CAmED,CAED,cAAe3B,CAAAA,YAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Container, Table } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nfunction ResultScreen() {\n  const [searchSystem, setSearchSystem] = useState(\"Google\");\n  const [resp, setResp] = useState([]);\n\n  const onSearchSystemChange = (e) => {\n    setSearchSystem(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .get(\n        `http://127.0.0.1:8000/api/tasks_ready?search_system=${searchSystem}`\n      )\n      .then((res) => setResp(JSON.parse(res.request.response)))\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"result-form\">\n      <h1>Tasks Result</h1>\n      <Container>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"formSearchSystem\">\n            <Form.Label>Select Search System</Form.Label>\n            <Form.Control\n              as=\"select\"\n              value={searchSystem}\n              required\n              onChange={onSearchSystemChange}\n            >\n              <option>Google</option>\n              <option>Bing</option>\n              <option>Yahoo</option>\n              <option>Yandex</option>\n              <option>Baidu</option>\n              <option>Naver</option>\n            </Form.Control>\n            {/* <Form.Text className=\"text-muted\">\n              We'll never share your email with anyone else.\n            </Form.Text> */}\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        </Form>\n        {resp.length <= 0 ? null : (\n          <div className=\"resp-div\">\n            <h1>Results for {searchSystem} Search</h1>\n            {resp.tasks[0].result != null ? (\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>ID</th>\n                    <th>SE</th>\n                    <th>Date Posted</th>\n                    <th>Tag</th>\n                    <th>Endpoint Regular</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {resp.tasks[0].result.map((rslt) => (\n                    <tr key={rslt.id}>\n                      <LinkContainer\n                        target=\"_blank\"\n                        to={`/result/${rslt.id}/${rslt.se}`}\n                      >\n                        <td className=\"td-link\">{rslt.id}</td>\n                      </LinkContainer>\n                      <td>{rslt.se}</td>\n                      <td>{rslt.date_posted}</td>\n                      <td>{rslt.tag}</td>\n                      <td>{rslt.endpoint_regular}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            ) : (\n              <h1>Not found! Please create task!</h1>\n            )}\n          </div>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default ResultScreen;\n"]},"metadata":{},"sourceType":"module"}